<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Fililico - Application de filigranage d'images et PDF avec style Kawaii Pop"
    />
    <title>üç≠ Fililico - Filigraner Illico!</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/logo.png" />

    <!-- Styles -->
    <link rel="stylesheet" href="css/variables.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/layout.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="app-logo">
          <img src="assets/images/logo.png" alt="Fililico Logo" />
          <h1 class="app-title">Fililico</h1>
        </div>
      </header>

      <!-- Main Content -->
      <main class="app-main">
        <div class="main-grid">
          <!-- Zone Fichiers (gauche) -->
          <div class="zone-files">
            <!-- Drop Zone -->
            <section class="card card-pink">
              <h2 class="section-title"><span>üìÇ</span> Vos fichiers</h2>
              <div id="dropZone" class="drop-zone">
                <div class="app-mascot">
                  <img
                    id="mascot"
                    class="mascot idle"
                    src="assets/images/stamp_1.png"
                    alt="Mascotte Fililico"
                  />
                </div>
                <span class="drop-zone-text">Glissez vos fichiers ici</span>
                <span class="drop-zone-hint">ou cliquez pour s√©lectionner</span>
                <span class="drop-zone-formats"
                  >PNG, JPG, JPEG, BMP, GIF, PDF</span
                >
                <input
                  type="file"
                  id="fileInput"
                  class="visually-hidden"
                  accept=".png,.jpg,.jpeg,.bmp,.gif,.pdf"
                  multiple
                />
              </div>

              <!-- File List -->
              <div id="fileList" class="file-list hidden"></div>
            </section>

            <!-- Preview Zone -->
            <section class="card">
              <h2 class="section-title"><span>üëÅÔ∏è</span> Aper√ßu</h2>

              <div id="previewContainer" class="preview-container">
                <div id="previewPlaceholder" class="preview-placeholder">
                  <span class="preview-placeholder-icon">üñºÔ∏è</span>
                  <span>S√©lectionnez un fichier pour voir l'aper√ßu</span>
                </div>
                <img
                  id="previewImage"
                  class="preview-image hidden"
                  alt="Aper√ßu du filigrane"
                />
              </div>
            </section>

            <!-- Results Zone -->
            <section id="resultsSection" class="card hidden">
              <h2 class="section-title"><span>‚ú®</span> R√©sultats</h2>

              <div id="resultsList" class="file-list"></div>
            </section>
          </div>

          <!-- Zone Configuration (droite) -->
          <aside class="zone-config">
            <section class="card card-purple">
              <h2 class="section-title"><span>‚öôÔ∏è</span> Configuration</h2>

              <!-- Texte du filigrane -->
              <div class="form-group">
                <label class="label" for="watermarkText"
                  >Texte du filigrane</label
                >
                <input
                  type="text"
                  id="watermarkText"
                  class="input"
                  placeholder="Ex: CONFIDENTIEL"
                  value="CONFIDENTIEL"
                />
              </div>

              <!-- Opacit√© -->
              <div class="form-group" style="margin-top: var(--space-4); display: none">
                <label class="label" for="opacitySlider">
                  Opacit√©: <span id="opacityValue">50</span>%
                </label>
                <input
                  type="range"
                  id="opacitySlider"
                  min="10"
                  max="90"
                  value="20"
                  style="width: 100%"
                />
              </div>

              <!-- Dossier de sortie -->
              <div class="form-group" style="margin-top: var(--space-4)">
                <label class="label" for="outputFolder"
                  >Dossier de sortie</label
                >
                <div style="display: flex; gap: 8px">
                  <input
                    type="text"
                    id="outputFolder"
                    class="input"
                    placeholder="Dossier du fichier original"
                    style="flex: 1"
                    readonly
                  />
                  <button
                    type="button"
                    id="browseOutputBtn"
                    class="btn btn-secondary"
                    title="Parcourir"
                  >
                    üìÅ
                  </button>
                </div>
                <small style="color: var(--magic-berry); font-size: 0.75rem; margin-top: 4px; display: block">
                  Auto-d√©tect√© depuis vos fichiers ‚Ä¢ Cliquez üìÅ pour changer
                </small>
              </div>
            </section>

            <!-- Bouton d'action -->
            <button id="processBtn" class="btn btn-primary btn-lg" disabled>
              <span>üç¨</span> Filigraner Illico!
            </button>

            <!-- Progression -->
            <div id="progressSection" class="card hidden">
              <div class="progress-bar">
                <div
                  id="progressFill"
                  class="progress-bar-fill"
                  style="width: 0%"
                ></div>
              </div>
              <p
                id="progressText"
                style="text-align: center; margin-top: var(--space-2)"
              >
                Traitement en cours...
              </p>
            </div>

            <!-- Stats -->
            <div class="card">
              <div style="text-align: center">
                <span style="font-size: 2rem">üìä</span>
                <p class="subtitle">Fichiers s√©lectionn√©s</p>
                <p id="fileCount" class="title" style="font-size: 2rem">0</p>
              </div>
            </div>
          </aside>
        </div>
      </main>

      <!-- Footer -->
      <footer class="app-footer">
        <p>
          üç≠ Fililico v1.0.0 ‚Äî Fait avec üíñ par
          <a href="https://marill.dev" target="_blank">Damien Marill</a>
        </p>
        <p style="font-size: 0.75rem; margin-top: 4px">
          Squish, Pop, Sparkle! ‚ú®
        </p>
      </footer>
    </div>

    <!-- Scripts -->
    <script type="text/javascript" src="/eel.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
